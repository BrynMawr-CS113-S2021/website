<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>CS21 Lab 8: Searching</title>
<link rel="stylesheet" href="style/cs.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_cs21_lab_8_searching">CS21 Lab 8: Searching</a>
<ul class="sectlevel2">
<li><a href="#_goals">Goals</a></li>
<li><a href="#_restaurants_dataset">Restaurants dataset</a></li>
</ul>
</li>
<li><a href="#_restaurant_info">1. Restaurant info</a>
<ul class="sectlevel2">
<li><a href="#_getting_started">1.1. Getting started</a></li>
<li><a href="#_feature_search_by_name">1.2. Feature: Search by name</a></li>
<li><a href="#_feature_restaurant_statistics_by_city">1.3. Feature: Restaurant statistics by city</a></li>
<li><a href="#_extra_challenge_search_by_reviews">1.4. Extra Challenge: Search by reviews</a></li>
<li><a href="#_extra_challenge_add_your_own_search_option">1.5. Extra Challenge: Add your own search option!</a></li>
</ul>
</li>
<li><a href="#_answer_the_questionnaire">2. Answer the Questionnaire</a></li>
<li><a href="#_turning_in_your_labs">3. Turning in your labs&#8230;&#8203;.</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_cs21_lab_8_searching">CS21 Lab 8: Searching</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Implementation is due Saturday, April 11th, before midnight</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_goals">Goals</h3>
<div class="ulist">
<ul>
<li>
<p>practice reading data from a file</p>
</li>
<li>
<p>use lists and classes to store data</p>
</li>
<li>
<p>understand linear and binary search</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_restaurants_dataset">Restaurants dataset</h3>
<div class="paragraph">
<p>For this assignment, we will be working with a real life <a href="https://www.yelp.com/dataset">dataset</a>
from <a href="https://www.yelp.com">Yelp</a>. Yelp provides information and reviews for a wide
range of businesses. We will look at a subset containing only restaurants, bars, and cafes.</p>
</div>
<div class="paragraph">
<p>You will implement a program, <code>restaurant_info.py</code>, which will allow the user
search through this dataset and learn interesting information. We
strongly recommend reading through the entire lab and creating a TDD before
implementing your program.</p>
</div>
<div class="paragraph">
<p>The dataset is available in a popular web format called
<a href="https://www.w3schools.com/whatis/whatis_json.asp">JSON</a>.
Each line of the file contains information for a single restaurant.
The restaurants are listed in the file in <strong>alphabetical order by name</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>/home/alinen/public/cs21/restaurants.json
/home/alinen/public/cs21/restaurants-small.json</code></pre>
</div>
</div>
<div class="paragraph">
<p>Below is an example line.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{"business_id": "42yLya7lhe7TQGz3KEdKAw", "name": "#1 Hawaiian Barbecue", "address": "5905 S Eastern Ave, Ste 105", "city": "Las Vegas", "state": "NV", "postal_code": "89119", "latitude": 36.0819201, "longitude": -115.1195258, "stars": 3.5, "review_count": 40, "is_open": 1, "attributes": {"RestaurantsAttire": "'casual'", "RestaurantsPriceRange2": "1", "RestaurantsTableService": "False", "BusinessParking": "{'garage': False, 'street': False, 'validated': False, 'lot': False, 'valet': False}", "NoiseLevel": "'average'", "Alcohol": "'none'", "HasTV": "False", "BusinessAcceptsCreditCards": "True", "BikeParking": "False", "Ambience": "{'touristy': False, 'hipster': False, 'romantic': False, 'divey': False, 'intimate': False, 'trendy': False, 'upscale': False, 'classy': False, 'casual': True}", "OutdoorSeating": "False", "RestaurantsReservations": "False", "GoodForMeal": "{'dessert': False, 'latenight': False, 'lunch': True, 'dinner': False, 'brunch': True, 'breakfast': False}", "GoodForKids": "True", "RestaurantsDelivery": "True", "RestaurantsGoodForGroups": "True", "RestaurantsTakeOut": "True", "WiFi": "u'no'"}, "categories": "Restaurants, Hawaiian, Seafood, Barbeque", "hours": {"Monday": "10:30-21:30", "Tuesday": "10:30-21:30", "Wednesday": "10:30-21:30", "Thursday": "10:30-21:30", "Friday": "10:30-22:0", "Saturday": "10:30-22:0", "Sunday": "10:30-21:30"}}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You are given a class <code>Restaurant</code>, defined in <code>restaurant.py</code>, which can parse the lines in this
file. Additionally, you can use this class to access the information with in each restaurant.
The following table lists the information you can work with using the <code>Restaurant</code> class. <a href="restaurant-example.py.txt">Click here for sample code showing how to work with the restaurant class (including loading them from file)</a></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Table Restaurant</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Property</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Type</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>API method example</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Example value</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Name</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>str</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>name = business.getName()</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>"#1 Hawaiian Barbecue"</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>City</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>str</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>city = business.getCity()</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>"Las Vegas"</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>State</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>str</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>state = business.getState()</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>"NV"</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Review count</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>int</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>count = business.getReviewCount()</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>40</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Stars</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>float</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>stars = business.getStars()</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>3.5</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Categories</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>list (of str)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>categories = business.getCategories()</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>"Restaurants", "Hawaiian", "Seafood", "Barbeque"</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_restaurant_info">1. Restaurant info</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For this assignment, you will write an application <code>restaurant_info.py</code> that allows a user to search for
information inside the restaurant dataset. You may not use Python&#8217;s built-in searching and
sorting functions for this assignment!</p>
</div>
<div class="paragraph">
<p>Below are samples from running the application:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="yelp-name-search.txt" class="bare">yelp-name-search.txt</a></p>
</li>
<li>
<p><a href="yelp-city-search.txt" class="bare">yelp-city-search.txt</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_getting_started">1.1. Getting started</h3>
<div class="paragraph">
<p>Write a TDD which outlines the application&#8217;s main loop. Create placeholders for the
functions that will implement the different features of this program.</p>
</div>
<div class="paragraph">
<p>Re-use <code>menu.py</code> from assignment #4 to implement the menu in <code>main()</code>.</p>
</div>
<div class="paragraph">
<p>Implement a function that loads the dataset. We have two versions of the
dataset you can use for development:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/home/alinen/public/cs21/restaurants-small.json</code>: small dataset containing 12 restaurants.
Use this first so you can check your answers!</p>
</li>
<li>
<p><code>/home/alinen/public/cs21/restaurants.json</code>: large dataset containing over 25K restaurants</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To load the dataset, open one of the JSON files, create a <code>Restaurant</code> object
and call <code>loadFromLine</code> to initialize the object. This function should return
a list of restaurants to be used by the remainder of your program.</p>
</div>
</div>
<div class="sect2">
<h3 id="_feature_search_by_name">1.2. Feature: Search by name</h3>
<div class="paragraph">
<p>Implement a feature which allows the user to search by name.</p>
</div>
<div class="paragraph">
<p><a href="yelp-name-search.txt">Click here to see examples of running this feature.</a></p>
</div>
<div class="paragraph">
<p>Features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ask the user for the name to search for</p>
</li>
<li>
<p>The search should be case <strong>insensitive</strong>. <mark>Use <code>lower()</code> when comparing strings</mark>.</p>
</li>
<li>
<p>Because the names are alphabetized, use binary search to find a name</p>
</li>
<li>
<p>If a restaurant is found, display all its information in a table.
Your output does not need to be identical, but it should be clean and easy to read.</p>
</li>
<li>
<p>You are not allowed to use any of Pythonâ€™s built-in search functions.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_feature_restaurant_statistics_by_city">1.3. Feature: Restaurant statistics by city</h3>
<div class="paragraph">
<p>Implement a feature which summarizes the restaurants for a given city.</p>
</div>
<div class="paragraph">
<p><a href="yelp-city-search.txt">Click here to see an example of running this feature.</a></p>
</div>
<div class="paragraph">
<p>Features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ask the user for a city and state to search</p>
</li>
<li>
<p>Prints the number of restaurants in that city</p>
</li>
<li>
<p>Prints the average number of reviews for a restaurant</p>
</li>
<li>
<p>Prints the max number of reviews for a restaurant</p>
</li>
<li>
<p>Prints the min number of reviews for a restaurant</p>
</li>
<li>
<p>Prints the average number of Stars</p>
</li>
<li>
<p>Outputs the results in a table with aligned columns</p>
</li>
<li>
<p>You may not use Python&#8217;s built-in min, max, or sum functions!</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This dataset includes restaurants for Las Vegas, Phoenix, Mississauga,
Toronto, Montreal, Calgary, Cleveland, Charlotte, Pittsburgh, Scottsdale.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_extra_challenge_search_by_reviews">1.4. Extra Challenge: Search by reviews</h3>
<div class="paragraph">
<p>Implement a feature which allows the user to search by reviews.</p>
</div>
<div class="paragraph">
<p><a href="yelp-review-search.txt">Click here to see examples of running this feature.</a></p>
</div>
<div class="paragraph">
<p>Features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ask the user for the minimum number of reviews and minimum number of stars. You
can assume that the user enters a valid integer.</p>
</li>
<li>
<p>Display your restaurants in a table. Recall that you can use string formatting
to pad the columns (for example <code>"%10s"%(name)</code> will pad the name with 10 spaces).</p>
</li>
<li>
<p>Display the number of restaurants which satisfy the criteria</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_extra_challenge_add_your_own_search_option">1.5. Extra Challenge: Add your own search option!</h3>
<div class="paragraph">
<p>Add your own search option to the program! For example, the program below
searches for all names which contain a keyword.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>1. Restaurants
2. Reviews
3. Cities
4. Quit
5. Search Names

your choice --&gt; 5
- - - - - - - - - - - - - - - - - - - - - - - - -
Search for: dino

 Dino's Family Restaurant    Charlotte   3.5
      Dino's Little Italy    Las Vegas   2.0
        Dino's Ristorante      Phoenix   4.5
 Dino's Wood Burning Pizza     Toronto   4.0</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_answer_the_questionnaire">2. Answer the Questionnaire</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Please edit
the <code>Questions-08.txt</code> file in your <code>cs21/labs/08</code> directory
and answer the questions in that file.</p>
</div>
<div class="paragraph">
<p>Once you&#8217;re done with that, run <code>handin21</code> again.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_turning_in_your_labs">3. Turning in your labs&#8230;&#8203;.</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Unresolved directive in lab08.adoc - include::handin21.adoc[]</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2020-04-14 14:55:23 -0400
</div>
</div>
</body>
</html>